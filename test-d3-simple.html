<!DOCTYPE html>
<html>
<head>
    <title>Teste D3.js Simples</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <div id="test-container" style="width: 400px; height: 300px; border: 1px solid #ccc;">
        <div id="loading">Carregando...</div>
        <svg id="test-svg" style="display: none; width: 100%; height: 100%;"></svg>
    </div>

    <script>
        console.log('Iniciando teste D3...');
        
        if (typeof d3 === 'undefined') {
            console.error('D3 não carregado!');
            document.getElementById('loading').innerHTML = 'ERRO: D3 não carregado';
        } else {
            console.log('D3 carregado, versão:', d3.version);
            
            const svg = d3.select('#test-svg');
            
            // Adicionar um círculo simples
            svg.append('circle')
                .attr('cx', 50)
                .attr('cy', 50)
                .attr('r', 20)
                .attr('fill', 'blue');
            
            // Ocultar loading e mostrar SVG
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                document.getElementById('test-svg').style.display = 'block';
                console.log('Teste concluído!');
            }, 1000);
        }
    </script>
</body>
</html>