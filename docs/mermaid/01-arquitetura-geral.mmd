graph TB
    %% Frontend Layer
    FRONTEND["ğŸŒ Frontend<br/>Vue.js + Laravel Blade<br/>React/Angular Support"]

    %% Gateway Layer
    GATEWAY["ğŸšª API Gateway<br/>Traefik + Load Balancer<br/>Roteamento Inteligente"]

    %% Backend Options (Current + New)
    subgraph "Backend Services"
        LARAVEL["ğŸ˜ Laravel API<br/>Current Backend<br/>PHP 8.2 + Eloquent"]
        JAVA["â˜• Java Spring Boot<br/>New Backend Option<br/>JPA + PostgreSQL"]
        NODE["ğŸŸ¢ Node.js API<br/>Alternative Backend<br/>Express + Prisma"]
        PYTHON["ğŸ Python FastAPI<br/>Alternative Backend<br/>SQLAlchemy + Async"]
        DOTNET["ğŸ”· .NET Core API<br/>Alternative Backend<br/>Entity Framework"]
    end

    %% Migration Tools
    MIGRATION["ğŸ”„ Migration Tools<br/>Backend Analysis<br/>Endpoint Mapping<br/>Database Schema Export"]

    %% Main Controllers (Laravel Legacy)
    PC["ğŸ“„ ProposicaoController"]
    PLC["ğŸ‘¤ ParlamentarController"]
    AC["âš™ï¸ AdminControllers"]
    MPC["ğŸ”„ MigrationPreparationController"]

    %% Services Layer
    subgraph "Service Layer"
        OOS["ğŸ“ OnlyOfficeService"]
        TPS["ğŸ“‹ TemplateProcessorService"]
        ADS["ğŸ” AssinaturaDigitalService"]
        WFS["ğŸ”„ WorkflowService"]
    end

    %% Data & Storage
    DB[("ğŸ—„ï¸ PostgreSQL<br/>Shared Database<br/>All Backends")]
    STORAGE["ğŸ“ Storage Files<br/>Docker Volumes"]
    CACHE["âš¡ Redis Cache<br/>Session & Performance"]

    %% External Services
    ONLY["ğŸ“ OnlyOffice Server<br/>Document Editor"]
    PYHANKO["ğŸ” PyHanko Container<br/>Digital Signature"]

    %% Network Flow
    FRONTEND --> GATEWAY
    GATEWAY --> LARAVEL
    GATEWAY -.-> JAVA
    GATEWAY -.-> NODE
    GATEWAY -.-> PYTHON
    GATEWAY -.-> DOTNET

    %% Migration Flow
    MIGRATION --> LARAVEL
    MIGRATION --> JAVA
    MIGRATION --> NODE
    MIGRATION --> PYTHON
    MIGRATION --> DOTNET

    %% Laravel Internal (Current)
    LARAVEL --> PC
    LARAVEL --> PLC
    LARAVEL --> AC
    LARAVEL --> MPC

    PC --> OOS
    PC --> TPS
    PC --> ADS
    PC --> WFS

    %% Shared Resources
    LARAVEL --> DB
    JAVA -.-> DB
    NODE -.-> DB
    PYTHON -.-> DB
    DOTNET -.-> DB

    OOS --> ONLY
    ADS --> PYHANKO

    OOS --> STORAGE
    TPS --> STORAGE
    ADS --> STORAGE

    PC --> CACHE
    OOS --> CACHE